{
  "título": "Regras de Validação - Projeto GTM Vendas",
  "descrição": "Regras de validação implementadas no Salesforce para garantir qualidade de dados",
  "dataAtualização": "2026-01-13",
  "validações": {
    "cadastro_cliente": [
      {
        "id": "VAL-001",
        "campo": "CNPJ__c",
        "tipo": "formato",
        "regra": "CNPJ deve ter 14 digitos e ser válido (algoritmo de validação)",
        "mensagemErro": "CNPJ inválido. Verifique os digitos informados.",
        "obrigatório": true,
        "integraçãoSINTEGRA": true
      },
      {
        "id": "VAL-002",
        "campo": "TermoPesquisa__c",
        "tipo": "tamanho",
        "regra": "Máximo 50 caracteres, sem caracteres especiais",
        "mensagemErro": "Termo de pesquisa deve ter no máximo 50 caracteres alfanumericos.",
        "obrigatório": true
      },
      {
        "id": "VAL-003",
        "campo": "Canal__c",
        "tipo": "picklist",
        "regra": "Deve ser um dos valores: 20, 25, 30, 40",
        "mensagemErro": "Canal de venda inválido.",
        "obrigatório": true,
        "determinadoPor": "CNAE"
      },
      {
        "id": "VAL-004",
        "campo": "AreaCrédito__c",
        "tipo": "picklist",
        "regra": "Deve ser um dos valores: BBA, CSP, DBA, ALPE",
        "mensagemErro": "Área de crédito invalida.",
        "obrigatório": true
      },
      {
        "id": "VAL-005",
        "campo": "Cluster__c",
        "tipo": "calculado",
        "regra": "Cluster e determinado automáticamente baseado em Setor + Atratividade + Região",
        "valores": ["Corporativas", "Especiais", "Regionais", "Dispersas"],
        "exceção": "ClusterExceção__c requer aprovação para alteração manual"
      },
      {
        "id": "VAL-006",
        "campo": "Segmento__c",
        "tipo": "dependente",
        "regra": "Segmento deve ser consistente com Subsegmento selecionado",
        "dependeDe": "Subsegmento__c"
      }
    ],
    "workflow_pricing": [
      {
        "id": "VAL-WF-001",
        "campo": "Desconto__c",
        "tipo": "range",
        "regra": "Desconto deve estar dentro do limite aprovado para o nível de aprovação",
        "limites": {
          "nível1": "0-5%",
          "nível2": "5-10%",
          "nível3": "10-15%",
          "nível4": ">15% (Diretoria)"
        }
      },
      {
        "id": "VAL-WF-002",
        "campo": "Vigencia__c",
        "tipo": "data",
        "regra": "Data inicial deve ser menor ou igual a data final",
        "mensagemErro": "Vigencia invalida. Data inicial deve ser anterior a data final."
      },
      {
        "id": "VAL-WF-003",
        "campo": "Material__c",
        "tipo": "referência",
        "regra": "Material deve existir no cadastro de produtos SAP",
        "integraçãoSAP": true
      },
      {
        "id": "VAL-WF-004",
        "campo": "IntegrationStatus__c",
        "tipo": "status",
        "regra": "Apos aprovação, Integration Status deve ser 'Completed'",
        "valores": ["Pending", "In Progress", "Completed", "Error"]
      },
      {
        "id": "VAL-WF-005",
        "campo": "ExternalID__c",
        "tipo": "gerado",
        "regra": "External ID deve ser preenchido automáticamente apos integração com SAP",
        "formato": "alfanumerico único"
      }
    ],
    "pedido_cotação": [
      {
        "id": "VAL-PED-001",
        "campo": "Cliente__c",
        "tipo": "referência",
        "regra": "Cliente deve ter cadastro ativo e sem bloqueio de crédito"
      },
      {
        "id": "VAL-PED-002",
        "campo": "Vendedor__c",
        "tipo": "obrigatório",
        "regra": "Conta deve ter vendedor vinculado ao Escritorio de Vendas"
      },
      {
        "id": "VAL-PED-003",
        "campo": "MotivoRecusa__c",
        "tipo": "condicional",
        "regra": "Motivo de recusa so pode ser usado quando ha itens selecionados",
        "documento": "846129 - Impedir uso de Motivo de Recusa sem seleção de itens.docx"
      }
    ],
    "contatos": [
      {
        "id": "VAL-CON-001",
        "campo": "Celular__c",
        "tipo": "formato",
        "regra": "Celular deve estar no formato (XX) XXXXX-XXXX",
        "documento": "901674 - Padronização de bases de contatos (celulares).docx"
      },
      {
        "id": "VAL-CON-002",
        "campo": "Email__c",
        "tipo": "formato",
        "regra": "Email deve ser válido (formato usuário@dominio.com)"
      }
    ]
  },
  "integraçõesValidação": {
    "SINTEGRA": {
      "descrição": "Validação de CNPJ via serviço externo",
      "campos": ["CNPJ", "Razao Social", "Situação Cadastral"],
      "autoPreenchimento": true
    },
    "SAP": {
      "descrição": "Validação de existencia de cliente/material no SAP",
      "campos": ["SapCode__c", "Material__c"]
    }
  },
  "observações": [
    "Validações executadas em triggers e process builders",
    "Cluster e calculado automáticamente pelo sistema",
    "Exceções de cluster requerem workflow de aprovação",
    "Integração SINTEGRA para auto-preenchimento de dados de CNPJ"
  ]
}
